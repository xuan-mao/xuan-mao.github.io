<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=author content="Xuan Mao"><meta name=description content="install wsl for openSUSE"><link rel=icon href=https://aunomax.github.io/favicon.ico><meta name=keywords content=" hugo  latex  theme "><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css integrity=sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js integrity=sha384-0fdwu/T/EQMsQlrHCCHoH10pkPLlKA1jL5dFyUOvB3lfeT2540/2g6YgSi2BL14p crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}],ignoredTags:["script","noscript","style","textarea","pre","code","option"],throwOnError:!1})})</script><meta property="og:title" content="Wsl for OpenSUSE"><meta property="og:description" content="install wsl for openSUSE"><meta property="og:type" content="article"><meta property="og:url" content="https://aunomax.github.io/post/wslopensuse/"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-10-16T13:01:42+08:00"><meta property="article:modified_time" content="2023-10-16T13:01:42+08:00"><link rel=canonical href=https://aunomax.github.io/post/wslopensuse/><meta itemprop=name content="Wsl for OpenSUSE"><meta itemprop=description content="install wsl for openSUSE"><meta itemprop=datePublished content="2023-10-16T13:01:42+08:00"><meta itemprop=dateModified content="2023-10-16T13:01:42+08:00"><meta itemprop=wordCount content="617"><meta itemprop=keywords content><link media=screen rel=stylesheet href=https://aunomax.github.io/css/common.css><link media=screen rel=stylesheet href=https://aunomax.github.io/css/content.css><title>Wsl for OpenSUSE - Aunomax's Site</title><meta name=twitter:card content="summary"><meta name=twitter:title content="Wsl for OpenSUSE"><meta name=twitter:description content="install wsl for openSUSE"><link rel=stylesheet href=https://aunomax.github.io/css/single.css></head><body><div id=wrapper><header id=header><h1><a href=https://aunomax.github.io/>Aunomax's Site</a></h1><nav><span class=nav-bar-item><a class=link href=/>Home</a></span>
<span class=nav-bar-item><a class=link href=/post/>Archives</a></span>
<span class=nav-bar-item><a class=link href=/about/>About</a></span></nav></header><main id=main class=post><h1>Wsl for OpenSUSE</h1><div><b>Keywords:</b></div><details><summary><b>Table of Contents</b></summary><div class=toc><nav id=TableOfContents><ul><li><a href=#mirror-repository-opensuse-源使用帮助--ustc-mirror-help-文档httpsmirrorsustceducnhelpopensusehtml>mirror repository <a href=https://mirrors.ustc.edu.cn/help/opensuse.html>openSUSE 源使用帮助 — USTC Mirror Help 文档</a></a></li><li><a href=#surf-the-internet>surf the internet</a></li><li><a href=#programming-for-fun-rust-programming-language-rust-langorghttpswwwrust-langorg>programming for fun <a href=https://www.rust-lang.org/>Rust Programming Language (rust-lang.org)</a></a></li><li><a href=#neovim-and-lazyvimlazyvim-neovim-config-for-the-lazy-githubcomhttpsgithubcomlazyvimlazyvim>neovim and <a href=https://github.com/LazyVim/LazyVim>LazyVim/LazyVim: Neovim config for the lazy (github.com)</a></a></li><li><a href=#vim>vim</a></li><li><a href=#rustlings>rustlings</a></li><li><a href=#trouble-or-bugs-happensed-to-me>trouble or bugs happensed to me</a><ul><li><a href=#inputoutput-error-httpsgithubcommicrosoftwslissues4377>Input/output error <a href=https://github.com/microsoft/WSL/issues/4377>https://github.com/microsoft/WSL/issues/4377</a></a></li></ul></li></ul></nav></div></details><article class=content><h1 id=installation>installation</h1><p>在Windows terminal中输入</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span> wsl --list -o
</span></span></code></pre></div><p>查看可安装的分发列表：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>NAME                                   FRIENDLY NAME
</span></span><span style=display:flex><span>Ubuntu                                 Ubuntu
</span></span><span style=display:flex><span>Debian                                 Debian GNU/Linux
</span></span><span style=display:flex><span><span style=color:#a2f>kali-linux</span>                             Kali Linux Rolling
</span></span><span style=display:flex><span>Ubuntu-<span style=color:#666>18.04</span>                           Ubuntu <span style=color:#666>18.04</span> LTS
</span></span><span style=display:flex><span>Ubuntu-<span style=color:#666>20.04</span>                           Ubuntu <span style=color:#666>20.04</span> LTS
</span></span><span style=display:flex><span>Ubuntu-<span style=color:#666>22.04</span>                           Ubuntu <span style=color:#666>22.04</span> LTS
</span></span><span style=display:flex><span>OracleLinux_7_9                        Oracle Linux <span style=color:#666>7.9</span>
</span></span><span style=display:flex><span>OracleLinux_8_7                        Oracle Linux <span style=color:#666>8.7</span>
</span></span><span style=display:flex><span>OracleLinux_9_1                        Oracle Linux <span style=color:#666>9.1</span>
</span></span><span style=display:flex><span><span style=color:#a2f>openSUSE-Leap</span>-<span style=color:#666>15.5</span>                     openSUSE Leap <span style=color:#666>15.5</span>
</span></span><span style=display:flex><span><span style=color:#a2f>SUSE-Linux</span>-Enterprise-Server-<span style=color:#666>15</span>-SP4    SUSE Linux Enterprise Server <span style=color:#666>15</span> SP4
</span></span><span style=display:flex><span><span style=color:#a2f>SUSE-Linux</span>-Enterprise-<span style=color:#666>15</span>-SP5           SUSE Linux Enterprise <span style=color:#666>15</span> SP5
</span></span><span style=display:flex><span><span style=color:#a2f>openSUSE-Tumbleweed</span>                    openSUSE Tumbleweed
</span></span></code></pre></div><p>使用 <code>wsl.exe --install &lt;Distro></code> 安装。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span> wsl --install <span style=color:#a2f>openSUSE-Leap</span>-<span style=color:#666>15.5</span>
</span></span></code></pre></div><p>按照指示创建用户名密码安装即可。</p><p>查看版本信息<code>cat /etc/os-release</code></p><pre tabindex=0><code>NAME=&#34;openSUSE Leap&#34;
VERSION=&#34;15.5&#34;
ID=&#34;opensuse-leap&#34;
ID_LIKE=&#34;suse opensuse&#34;
VERSION_ID=&#34;15.5&#34;
PRETTY_NAME=&#34;openSUSE Leap 15.5&#34;
ANSI_COLOR=&#34;0;32&#34;
CPE_NAME=&#34;cpe:/o:opensuse:leap:15.5&#34;
BUG_REPORT_URL=&#34;https://bugs.opensuse.org&#34;
HOME_URL=&#34;https://www.opensuse.org/&#34;
DOCUMENTATION_URL=&#34;https://en.opensuse.org/Portal:Leap&#34;
LOGO=&#34;distributor-logo-Leap&#34;
</code></pre><h2 id=mirror-repository-opensuse-源使用帮助--ustc-mirror-help-文档httpsmirrorsustceducnhelpopensusehtml>mirror repository <a href=https://mirrors.ustc.edu.cn/help/opensuse.html>openSUSE 源使用帮助 — USTC Mirror Help 文档</a></h2><p>确认当前配置的软件源；</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo zypper lr -d
</span></span></code></pre></div><p>禁用原有软件源；</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo zypper mr -da
</span></span></code></pre></div><p>添加科大镜像源，以 openSUSE Leap 为例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo zypper ar -fcg <span style=color:#b44>&#39;https://mirrors.ustc.edu.cn/opensuse/distribution/leap/$releasever/repo/oss&#39;</span> USTC:OSS
</span></span><span style=display:flex><span>sudo zypper ar -fcg <span style=color:#b44>&#39;https://mirrors.ustc.edu.cn/opensuse/distribution/leap/$releasever/repo/non-oss&#39;</span> USTC:NON-OSS
</span></span><span style=display:flex><span>sudo zypper ar -fcg <span style=color:#b44>&#39;https://mirrors.ustc.edu.cn/opensuse/update/leap/$releasever/oss&#39;</span> USTC:UPDATE-OSS
</span></span><span style=display:flex><span>sudo zypper ar -fcg <span style=color:#b44>&#39;https://mirrors.ustc.edu.cn/opensuse/update/leap/$releasever/non-oss&#39;</span> USTC:UPDATE-NON-OSS
</span></span></code></pre></div><p>对于 15.3 或更高版本的 openSUSE Leap，还需添加 SLE 更新源和 Backports 更新源：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo zypper ar -fcg <span style=color:#b44>&#39;https://mirrors.ustc.edu.cn/opensuse/update/leap/$releasever/sle&#39;</span> USTC:UPDATE-SLE
</span></span><span style=display:flex><span>sudo zypper ar -fcg <span style=color:#b44>&#39;https://mirrors.ustc.edu.cn/opensuse/update/leap/$releasever/backports&#39;</span> USTC:UPDATE-BACKPORTS
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;font-style:italic># refresh repository</span>
</span></span><span style=display:flex><span>sudo zypper refresh
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># list packages that can be updated</span>
</span></span><span style=display:flex><span>zypper lu
</span></span></code></pre></div><h2 id=surf-the-internet>surf the internet</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;font-style:italic># fonts used in firefox</span>
</span></span><span style=display:flex><span>sudo zypper in wqy-microhei-fonts
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># install firefox</span>
</span></span><span style=display:flex><span>sudo zypper install MozillaFirefox
</span></span></code></pre></div><h2 id=programming-for-fun-rust-programming-language-rust-langorghttpswwwrust-langorg>programming for fun <a href=https://www.rust-lang.org/>Rust Programming Language (rust-lang.org)</a></h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;font-style:italic># If you’re a Windows Subsystem for Linux user run the following in your terminal, </span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># then follow the on-screen instructions to install Rust.</span>
</span></span><span style=display:flex><span>curl --proto <span style=color:#b44>&#39;=https&#39;</span> --tlsv1.2 -sSf https://sh.rustup.rs | sh
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># follow the instruction to finish the installation.</span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># to configure your current shell, run:</span>
</span></span><span style=display:flex><span><span style=color:#a2f>source</span> <span style=color:#b44>&#34;</span><span style=color:#b8860b>$HOME</span><span style=color:#b44>/.cargo/env&#34;</span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># install rust-analyzer</span>
</span></span><span style=display:flex><span>rustup component add rust-analyzer
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># install cross-compile tools</span>
</span></span><span style=display:flex><span>rustup target add x86_64-pc-windows-gnu
</span></span><span style=display:flex><span>rustup toolchain install stable-x86_64-pc-windows-gnu
</span></span><span style=display:flex><span>sudo zypper in mingw64-cross-gcc-c++
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># cargo build --release --target x86_64-pc-windows-gnu</span>
</span></span></code></pre></div><h2 id=neovim-and-lazyvimlazyvim-neovim-config-for-the-lazy-githubcomhttpsgithubcomlazyvimlazyvim>neovim and <a href=https://github.com/LazyVim/LazyVim>LazyVim/LazyVim: Neovim config for the lazy (github.com)</a></h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;font-style:italic># network interface through clash for windows</span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># append the following three lines to .bashrc</span>
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>http_proxy</span><span style=color:#666>=</span>172.20.224.1:65353
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>https_proxy</span><span style=color:#666>=</span>172.20.224.1:65353
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>socks_proxy</span><span style=color:#666>=</span>172.20.224.1:65353
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># to apply those changes instantly, run:</span>
</span></span><span style=display:flex><span><span style=color:#a2f>source</span> .bashrc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># download nvim.appimage</span>
</span></span><span style=display:flex><span>wget https://github.com/neovim/neovim/releases/download/nightly/nvim.appimage
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># use `chmod u+x nvim.appimage &amp;&amp; ./nvim.appimage` and get a failure with message:</span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># AppImages require FUSE to run.</span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># You might still be able to extract the contents of this AppImage</span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># if you run it with the --appimage-extract option.</span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># See https://github.com/AppImage/AppImageKit/wiki/FUSE</span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># for more information</span>
</span></span><span style=display:flex><span>./nvim.appimage --appimage-extract
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># move squashfs-root directory to root</span>
</span></span><span style=display:flex><span>sudo mv squashfs-root/ /
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># create a symbolic link </span>
</span></span><span style=display:flex><span>sudo ln -s /squashfs-root/AppRun /usr/bin/nvim
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># install lazy-vim https://github.com/LazyVim/LazyVim</span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># https://www.lazyvim.org/installation</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># install git</span>
</span></span><span style=display:flex><span>sudo zypper install git-core
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># install gcc</span>
</span></span><span style=display:flex><span>sudo zypper install gcc
</span></span><span style=display:flex><span>sudo zypper in gcc-c++
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Clone the starter</span>
</span></span><span style=display:flex><span>git clone https://github.com/LazyVim/starter ~/.config/nvim
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Remove the .git folder, so you can add it to your own repo later</span>
</span></span><span style=display:flex><span>rm -rf ~/.config/nvim/.git
</span></span></code></pre></div><p>add <code>.config/nvim/init.lua</code></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>require(<span style=color:#b44>&#34;lspconfig&#34;</span>).rust_analyzer.setup({})
</span></span></code></pre></div><p>custom commands in <code>.bashrc</code></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;font-style:italic># custom</span>
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>rust_prj</span><span style=color:#666>=</span>/mnt/g/mao/Documents/Github/rust_prj
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>myWebSite</span><span style=color:#666>=</span>/mnt/g/mao/Documents/Github/myWebSite/
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>prj_euler</span><span style=color:#666>=</span>/mnt/g/mao/Documents/Github/ProjectEuler/
</span></span></code></pre></div><h2 id=vim>vim</h2><ul><li>open a url: place the cursor on the url and type <code>gx</code>.</li><li>copy: <code>y</code></li><li>paste: <code>p</code></li><li>delete: <code>d</code></li></ul><h2 id=rustlings>rustlings</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -L sh.rustlings.cool | bash		
</span></span></code></pre></div><h2 id=trouble-or-bugs-happensed-to-me>trouble or bugs happensed to me</h2><h3 id=inputoutput-error-httpsgithubcommicrosoftwslissues4377>Input/output error <a href=https://github.com/microsoft/WSL/issues/4377>https://github.com/microsoft/WSL/issues/4377</a></h3><p>That error occurs if the hidden wslhost.exe process is died/killed. Just use <code>wsl.exe --shutdown</code> and restart it.</p></article><div class=paginator><a class=link href=https://aunomax.github.io/post/international_conference/>← prev</a>
<a class=link href=https://aunomax.github.io/post/alist+aria2/>next →</a></div><div class=comment></div></main><footer id=footer><div><span>© 2023</span> - <span>2024</span></div><div><span>Powered by</span>
<a class=link href=https://gohugo.io/>Hugo</a>
<span>🍦 Theme</span>
<a class=link href=https://github.com/queensferryme/hugo-theme-texify>TeXify</a></div><div class=footnote><span>Follow me on <a class=link href=https://github.com/aunomax>GitHub</a>,
<a class=link href=https://space.bilibili.com/30034502>Bilibili</a> or
<a class=link href=/index.xml>RSS</a> |
<a class=link href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh target=_blank rel=noopener>CC BY-NC-SA 4.0</a></span></div></footer></div></body></html>